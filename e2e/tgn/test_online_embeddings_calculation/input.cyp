setup: |-
    CALL tgn.set_params("self_supervised", 5, 2, "graph_sum", 100, 100, 172, 100, 100, 5, "identity", "last", "lstm");
    CREATE TRIGGER create_embeddings ON --> CREATE BEFORE COMMIT EXECUTE CALL tgn.update(createdEdges) YIELD *;

queries:
    - |-
    MERGE (a:User {id: 2, features:[0.39,0.60,0.40,0.94,0.50,0.34,0.47,0.74,0.98,0.24,0.62,0.61,0.59,0.41,
     0.63,0.79,0.23,0.65,0.02,0.83,0.21,0.55,0.70,0.74,0.98,0.80,0.38,0.03,
     0.26,0.59,0.92,0.14,0.29,0.18,0.20,0.61,0.85,0.08,0.13,0.97,0.33,0.16,
     0.79,0.45,0.79,0.59,0.29,0.48,0.22,0.82,0.41,0.36,0.56,0.74,0.67,0.56,
     0.08,0.90,0.16,0.41,0.07,0.47,0.72,0.08,0.37,0.79,0.28,0.94,0.45,0.66,
     0.98,0.86,0.47,0.78,0.03,0.07,0.29,0.26,0.00,0.99,0.77,0.13,0.66,0.79,
     0.99,0.35,0.29,0.78,0.74,0.01,0.15,0.45,0.50,0.33,0.04,0.23,0.49,0.50,
     0.75,0.84]}) MERGE (b:Item {id: 2, features:[0.39,0.60,0.40,0.94,0.50,0.34,0.47,0.74,0.98,0.24,0.62,0.61,0.59,0.41,
     0.63,0.79,0.23,0.65,0.02,0.83,0.21,0.55,0.70,0.74,0.98,0.80,0.38,0.03,
     0.26,0.59,0.92,0.14,0.29,0.18,0.20,0.61,0.85,0.08,0.13,0.97,0.33,0.16,
     0.79,0.45,0.79,0.59,0.29,0.48,0.22,0.82,0.41,0.36,0.56,0.74,0.67,0.56,
     0.08,0.90,0.16,0.41,0.07,0.47,0.72,0.08,0.37,0.79,0.28,0.94,0.45,0.66,
     0.98,0.86,0.47,0.78,0.03,0.07,0.29,0.26,0.00,0.99,0.77,0.13,0.66,0.79,
     0.99,0.35,0.29,0.78,0.74,0.01,0.15,0.45,0.50,0.33,0.04,0.23,0.49,0.50,
     0.75,0.84]}) CREATE (a)-[:CLICKED {features:[-0.18,-0.18,-0.94,-0.38,0.00,-0.64,1.05,-0.17,-0.19,-0.17,-0.83,-0.18,
     -0.24,-0.08,-0.44,-0.27,-0.27,-0.77,-0.23,-0.21,-0.03,-0.15,-0.13,-0.11,
     -0.07,-0.08,-0.04,-0.09,-0.08,-0.12,-0.11,-0.13,-0.11,-0.13,-0.11,-0.09,
     -0.13,-0.14,-0.13,-0.10,-0.13,-0.12,-0.04,-0.13,-0.09,-0.08,-0.08,-0.13,
     -0.13,-0.11,-0.08,-0.10,-0.08,-0.14,-0.13,-0.13,-0.10,-0.11,-0.12,-0.11,
     -0.12,-0.11,-0.13,-0.12,-0.10,-0.08,-0.11,-0.08,-0.09,-0.06,-0.08,-0.15,
     -0.13,-0.15,-0.15,-0.16,-0.13,-0.14,-0.10,-0.09,-0.08,-0.09,-0.06,-0.07,
     -0.06,-0.05,-0.11,-0.12,-0.65,-0.29,0.00,-0.42,0.72,-0.11,-0.12,-0.11,
     -0.56,-0.12,-0.18,-0.06,-0.27,-0.16,-0.16,-0.52,-0.15,-0.14,-0.01,-0.10,
     -0.09,-0.08,-0.05,-0.06,-0.03,-0.06,-0.05,-0.08,-0.08,-0.09,-0.08,-0.09,
     -0.07,-0.07,-0.09,-0.10,-0.09,-0.08,-0.09,-0.09,-0.04,-0.09,-0.06,-0.05,
     -0.06,-0.09,-0.09,-0.07,-0.06,-0.07,-0.04,-0.10,-0.09,-0.09,-0.07,-0.08,
     -0.08,-0.07,-0.09,-0.08,-0.08,-0.07,-0.07,-0.05,-0.07,-0.05,-0.06,-0.05,
     -0.05,-0.11,-0.09,-0.10,-0.10,-0.10,-0.09,-0.10,-0.07,-0.06,-0.06,-0.06,
     -0.04,-0.05,-0.04,-0.04]}]->(b);
    MERGE (a:User {id: 2, features:[0.39,0.60,0.40,0.94,0.50,0.34,0.47,0.74,0.98,0.24,0.62,0.61,0.59,0.41,
     0.63,0.79,0.23,0.65,0.02,0.83,0.21,0.55,0.70,0.74,0.98,0.80,0.38,0.03,
     0.26,0.59,0.92,0.14,0.29,0.18,0.20,0.61,0.85,0.08,0.13,0.97,0.33,0.16,
     0.79,0.45,0.79,0.59,0.29,0.48,0.22,0.82,0.41,0.36,0.56,0.74,0.67,0.56,
     0.08,0.90,0.16,0.41,0.07,0.47,0.72,0.08,0.37,0.79,0.28,0.94,0.45,0.66,
     0.98,0.86,0.47,0.78,0.03,0.07,0.29,0.26,0.00,0.99,0.77,0.13,0.66,0.79,
     0.99,0.35,0.29,0.78,0.74,0.01,0.15,0.45,0.50,0.33,0.04,0.23,0.49,0.50,
     0.75,0.84]}) MERGE (b:Item {id: 2, features:[0.39,0.60,0.40,0.94,0.50,0.34,0.47,0.74,0.98,0.24,0.62,0.61,0.59,0.41,
     0.63,0.79,0.23,0.65,0.02,0.83,0.21,0.55,0.70,0.74,0.98,0.80,0.38,0.03,
     0.26,0.59,0.92,0.14,0.29,0.18,0.20,0.61,0.85,0.08,0.13,0.97,0.33,0.16,
     0.79,0.45,0.79,0.59,0.29,0.48,0.22,0.82,0.41,0.36,0.56,0.74,0.67,0.56,
     0.08,0.90,0.16,0.41,0.07,0.47,0.72,0.08,0.37,0.79,0.28,0.94,0.45,0.66,
     0.98,0.86,0.47,0.78,0.03,0.07,0.29,0.26,0.00,0.99,0.77,0.13,0.66,0.79,
     0.99,0.35,0.29,0.78,0.74,0.01,0.15,0.45,0.50,0.33,0.04,0.23,0.49,0.50,
     0.75,0.84]}) CREATE (a)-[:CLICKED {features:[-0.18,-0.18,-0.94,-0.38,0.00,-0.64,1.05,-0.17,-0.19,-0.17,-0.83,-0.18,
     -0.24,-0.08,-0.44,-0.27,-0.27,-0.77,-0.23,-0.21,-0.03,-0.15,-0.13,-0.11,
     -0.07,-0.08,-0.04,-0.09,-0.08,-0.12,-0.11,-0.13,-0.11,-0.13,-0.11,-0.09,
     -0.13,-0.14,-0.13,-0.10,-0.13,-0.12,-0.04,-0.13,-0.09,-0.08,-0.08,-0.13,
     -0.13,-0.11,-0.08,-0.10,-0.08,-0.14,-0.13,-0.13,-0.10,-0.11,-0.12,-0.11,
     -0.12,-0.11,-0.13,-0.12,-0.10,-0.08,-0.11,-0.08,-0.09,-0.06,-0.08,-0.15,
     -0.13,-0.15,-0.15,-0.16,-0.13,-0.14,-0.10,-0.09,-0.08,-0.09,-0.06,-0.07,
     -0.06,-0.05,-0.11,-0.12,-0.65,-0.29,0.00,-0.42,0.72,-0.11,-0.12,-0.11,
     -0.56,-0.12,-0.18,-0.06,-0.27,-0.16,-0.16,-0.52,-0.15,-0.14,-0.01,-0.10,
     -0.09,-0.08,-0.05,-0.06,-0.03,-0.06,-0.05,-0.08,-0.08,-0.09,-0.08,-0.09,
     -0.07,-0.07,-0.09,-0.10,-0.09,-0.08,-0.09,-0.09,-0.04,-0.09,-0.06,-0.05,
     -0.06,-0.09,-0.09,-0.07,-0.06,-0.07,-0.04,-0.10,-0.09,-0.09,-0.07,-0.08,
     -0.08,-0.07,-0.09,-0.08,-0.08,-0.07,-0.07,-0.05,-0.07,-0.05,-0.06,-0.05,
     -0.05,-0.11,-0.09,-0.10,-0.10,-0.10,-0.09,-0.10,-0.07,-0.06,-0.06,-0.06,
     -0.04,-0.05,-0.04,-0.04]}]->(b);
    MERGE (a:User {id: 3, features:[0.75,0.01,0.61,0.60,0.73,0.07,0.83,0.08,0.56,0.89,0.71,0.48,0.49,0.33,
     0.63,0.35,0.47,0.65,0.56,0.44,0.11,0.90,0.19,0.65,0.63,0.43,0.64,0.30,
     0.56,0.51,0.16,0.31,0.10,0.47,0.95,0.46,0.89,0.56,0.48,0.69,0.58,0.04,
     0.53,0.63,0.69,0.83,0.53,0.40,0.63,0.87,0.61,0.68,0.77,0.52,0.70,0.38,
     0.99,0.82,0.56,0.52,0.44,0.90,0.68,0.63,0.81,0.99,0.34,0.96,0.13,0.91,
     0.87,0.68,0.56,0.56,0.59,0.18,0.70,0.54,0.47,0.72,0.08,0.16,0.89,0.31,
     0.99,0.05,0.95,0.31,0.92,0.44,0.31,0.02,0.70,0.05,0.42,0.52,0.06,0.43,
     0.46,0.70]}) MERGE (b:Item {id: 3, features:[0.75,0.01,0.61,0.60,0.73,0.07,0.83,0.08,0.56,0.89,0.71,0.48,0.49,0.33,
     0.63,0.35,0.47,0.65,0.56,0.44,0.11,0.90,0.19,0.65,0.63,0.43,0.64,0.30,
     0.56,0.51,0.16,0.31,0.10,0.47,0.95,0.46,0.89,0.56,0.48,0.69,0.58,0.04,
     0.53,0.63,0.69,0.83,0.53,0.40,0.63,0.87,0.61,0.68,0.77,0.52,0.70,0.38,
     0.99,0.82,0.56,0.52,0.44,0.90,0.68,0.63,0.81,0.99,0.34,0.96,0.13,0.91,
     0.87,0.68,0.56,0.56,0.59,0.18,0.70,0.54,0.47,0.72,0.08,0.16,0.89,0.31,
     0.99,0.05,0.95,0.31,0.92,0.44,0.31,0.02,0.70,0.05,0.42,0.52,0.06,0.43,
     0.46,0.70]}) CREATE (a)-[:CLICKED {features:[-0.18,-0.18,-0.94,-0.38,0.00,-0.64,1.05,-0.17,-0.19,-0.17,-0.83,-0.18,
     -0.24,-0.08,-0.44,-0.27,-0.27,-0.77,-0.23,-0.21,-0.03,-0.15,-0.13,-0.11,
     -0.07,-0.08,-0.04,-0.09,-0.08,-0.12,-0.11,-0.13,-0.11,-0.13,-0.11,-0.09,
     -0.13,-0.14,-0.13,-0.10,-0.13,-0.12,-0.04,-0.13,-0.09,-0.08,-0.08,-0.13,
     -0.13,-0.11,-0.08,-0.10,-0.08,-0.14,-0.13,-0.13,-0.10,-0.11,-0.12,-0.11,
     -0.12,-0.11,-0.13,-0.12,-0.10,-0.08,-0.11,-0.08,-0.09,-0.06,-0.08,-0.15,
     -0.13,-0.15,-0.15,-0.16,-0.13,-0.14,-0.10,-0.09,-0.08,-0.09,-0.06,-0.07,
     -0.06,-0.05,0.10,0.10,1.80,-0.29,0.00,1.50,-1.64,0.01,0.05,0.23,2.28,
     -0.12,-0.18,-0.06,-0.27,0.20,0.07,1.60,-0.15,-0.14,-0.01,-0.10,-0.09,
     -0.08,-0.05,-0.06,-0.03,-0.06,-0.05,-0.08,-0.08,-0.09,-0.08,-0.09,-0.07,
     -0.07,-0.09,-0.10,-0.09,-0.08,-0.09,-0.09,-0.04,-0.09,-0.06,-0.05,-0.06,
     -0.09,-0.09,-0.07,-0.06,-0.07,-0.04,-0.10,-0.09,-0.09,-0.07,-0.08,-0.08,
     -0.07,-0.09,-0.08,-0.08,-0.07,-0.07,-0.05,-0.07,-0.05,-0.06,-0.05,-0.05,
     -0.11,-0.09,-0.10,-0.10,-0.10,-0.09,-0.10,-0.07,-0.06,-0.06,-0.06,-0.04,
     -0.05,-0.04,-0.04]}]->(b);
    MERGE (a:User {id: 2, features:[0.39,0.60,0.40,0.94,0.50,0.34,0.47,0.74,0.98,0.24,0.62,0.61,0.59,0.41,
     0.63,0.79,0.23,0.65,0.02,0.83,0.21,0.55,0.70,0.74,0.98,0.80,0.38,0.03,
     0.26,0.59,0.92,0.14,0.29,0.18,0.20,0.61,0.85,0.08,0.13,0.97,0.33,0.16,
     0.79,0.45,0.79,0.59,0.29,0.48,0.22,0.82,0.41,0.36,0.56,0.74,0.67,0.56,
     0.08,0.90,0.16,0.41,0.07,0.47,0.72,0.08,0.37,0.79,0.28,0.94,0.45,0.66,
     0.98,0.86,0.47,0.78,0.03,0.07,0.29,0.26,0.00,0.99,0.77,0.13,0.66,0.79,
     0.99,0.35,0.29,0.78,0.74,0.01,0.15,0.45,0.50,0.33,0.04,0.23,0.49,0.50,
     0.75,0.84]}) MERGE (b:Item {id: 2, features:[0.39,0.60,0.40,0.94,0.50,0.34,0.47,0.74,0.98,0.24,0.62,0.61,0.59,0.41,
     0.63,0.79,0.23,0.65,0.02,0.83,0.21,0.55,0.70,0.74,0.98,0.80,0.38,0.03,
     0.26,0.59,0.92,0.14,0.29,0.18,0.20,0.61,0.85,0.08,0.13,0.97,0.33,0.16,
     0.79,0.45,0.79,0.59,0.29,0.48,0.22,0.82,0.41,0.36,0.56,0.74,0.67,0.56,
     0.08,0.90,0.16,0.41,0.07,0.47,0.72,0.08,0.37,0.79,0.28,0.94,0.45,0.66,
     0.98,0.86,0.47,0.78,0.03,0.07,0.29,0.26,0.00,0.99,0.77,0.13,0.66,0.79,
     0.99,0.35,0.29,0.78,0.74,0.01,0.15,0.45,0.50,0.33,0.04,0.23,0.49,0.50,
     0.75,0.84]}) CREATE (a)-[:CLICKED {features:[-0.18,-0.18,-0.94,-0.38,0.00,-0.64,1.05,-0.17,-0.19,-0.17,-0.83,-0.18,
     -0.24,-0.08,-0.44,-0.27,-0.27,-0.77,-0.23,-0.21,-0.03,-0.15,-0.13,-0.11,
     -0.07,-0.08,-0.04,-0.09,-0.08,-0.12,-0.11,-0.13,-0.11,-0.13,-0.11,-0.09,
     -0.13,-0.14,-0.13,-0.10,-0.13,-0.12,-0.04,-0.13,-0.09,-0.08,-0.08,-0.13,
     -0.13,-0.11,-0.08,-0.10,-0.08,-0.14,-0.13,-0.13,-0.10,-0.11,-0.12,-0.11,
     -0.12,-0.11,-0.13,-0.12,-0.10,-0.08,-0.11,-0.08,-0.09,-0.06,-0.08,-0.15,
     -0.13,-0.15,-0.15,-0.16,-0.13,-0.14,-0.10,-0.09,-0.08,-0.09,-0.06,-0.07,
     -0.06,-0.05,-0.11,-0.12,-0.65,-0.29,0.00,-0.42,0.72,-0.11,-0.12,-0.11,
     -0.56,-0.12,-0.18,-0.06,-0.27,-0.16,-0.16,-0.52,-0.15,-0.14,-0.01,-0.10,
     -0.09,-0.08,-0.05,-0.06,-0.03,-0.06,-0.05,-0.08,-0.08,-0.09,-0.08,-0.09,
     -0.07,-0.07,-0.09,-0.10,-0.09,-0.08,-0.09,-0.09,-0.04,-0.09,-0.06,-0.05,
     -0.06,-0.09,-0.09,-0.07,-0.06,-0.07,-0.04,-0.10,-0.09,-0.09,-0.07,-0.08,
     -0.08,-0.07,-0.09,-0.08,-0.08,-0.07,-0.07,-0.05,-0.07,-0.05,-0.06,-0.05,
     -0.05,-0.11,-0.09,-0.10,-0.10,-0.10,-0.09,-0.10,-0.07,-0.06,-0.06,-0.06,
     -0.04,-0.05,-0.04,-0.04]}]->(b);

    - |-
       MERGE (a:User {id: 3, features:[0.75,0.01,0.61,0.60,0.73,0.07,0.83,0.08,0.56,0.89,0.71,0.48,0.49,0.33,
         0.63,0.35,0.47,0.65,0.56,0.44,0.11,0.90,0.19,0.65,0.63,0.43,0.64,0.30,
         0.56,0.51,0.16,0.31,0.10,0.47,0.95,0.46,0.89,0.56,0.48,0.69,0.58,0.04,
         0.53,0.63,0.69,0.83,0.53,0.40,0.63,0.87,0.61,0.68,0.77,0.52,0.70,0.38,
         0.99,0.82,0.56,0.52,0.44,0.90,0.68,0.63,0.81,0.99,0.34,0.96,0.13,0.91,
         0.87,0.68,0.56,0.56,0.59,0.18,0.70,0.54,0.47,0.72,0.08,0.16,0.89,0.31,
         0.99,0.05,0.95,0.31,0.92,0.44,0.31,0.02,0.70,0.05,0.42,0.52,0.06,0.43,
         0.46,0.70]}) MERGE (b:Item {id: 3, features:[0.75,0.01,0.61,0.60,0.73,0.07,0.83,0.08,0.56,0.89,0.71,0.48,0.49,0.33,
         0.63,0.35,0.47,0.65,0.56,0.44,0.11,0.90,0.19,0.65,0.63,0.43,0.64,0.30,
         0.56,0.51,0.16,0.31,0.10,0.47,0.95,0.46,0.89,0.56,0.48,0.69,0.58,0.04,
         0.53,0.63,0.69,0.83,0.53,0.40,0.63,0.87,0.61,0.68,0.77,0.52,0.70,0.38,
         0.99,0.82,0.56,0.52,0.44,0.90,0.68,0.63,0.81,0.99,0.34,0.96,0.13,0.91,
         0.87,0.68,0.56,0.56,0.59,0.18,0.70,0.54,0.47,0.72,0.08,0.16,0.89,0.31,
         0.99,0.05,0.95,0.31,0.92,0.44,0.31,0.02,0.70,0.05,0.42,0.52,0.06,0.43,
         0.46,0.70]}) CREATE (a)-[:CLICKED {features:[-0.18,-0.18,-0.94,-0.38,0.00,-0.64,1.05,-0.17,-0.19,-0.17,-0.83,-0.18,
         -0.24,-0.08,-0.44,-0.27,-0.27,-0.77,-0.23,-0.21,-0.03,-0.15,-0.13,-0.11,
         -0.07,-0.08,-0.04,-0.09,-0.08,-0.12,-0.11,-0.13,-0.11,-0.13,-0.11,-0.09,
         -0.13,-0.14,-0.13,-0.10,-0.13,-0.12,-0.04,-0.13,-0.09,-0.08,-0.08,-0.13,
         -0.13,-0.11,-0.08,-0.10,-0.08,-0.14,-0.13,-0.13,-0.10,-0.11,-0.12,-0.11,
         -0.12,-0.11,-0.13,-0.12,-0.10,-0.08,-0.11,-0.08,-0.09,-0.06,-0.08,-0.15,
         -0.13,-0.15,-0.15,-0.16,-0.13,-0.14,-0.10,-0.09,-0.08,-0.09,-0.06,-0.07,
         -0.06,-0.05,-0.11,-0.12,-0.65,-0.29,0.00,-0.42,0.72,-0.11,-0.12,-0.11,
         -0.56,-0.12,-0.18,-0.06,-0.27,-0.16,-0.16,-0.52,-0.15,-0.14,-0.01,-0.10,
         -0.09,-0.08,-0.05,-0.06,-0.03,-0.06,-0.05,-0.08,-0.08,-0.09,-0.08,-0.09,
         -0.07,-0.07,-0.09,-0.10,-0.09,-0.08,-0.09,-0.09,-0.04,-0.09,-0.06,-0.05,
         -0.06,-0.09,-0.09,-0.07,-0.06,-0.07,-0.04,-0.10,-0.09,-0.09,-0.07,-0.08,
         -0.08,-0.07,-0.09,-0.08,-0.08,-0.07,-0.07,-0.05,-0.07,-0.05,-0.06,-0.05,
         -0.05,-0.11,-0.09,-0.10,-0.10,-0.10,-0.09,-0.10,-0.07,-0.06,-0.06,-0.06,
         -0.04,-0.05,-0.04,-0.04]}]->(b);

cleanup: |-
    CALL tgn.reset() YIELD *;
    DROP TRIGGER create_embeddings;
    MATCH (n) DETACH DELETE n;
